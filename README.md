# DTI Fiber Viewer

一个基于VTK和Qt的DTI神经纤维束可视化项目，用于加载和显示TrackVis (.trk) 格式的神经纤维束数据。

## 项目目标

本项目旨在开发一个功能完整的DTI纤维束可视化工具，主要目标包括：

- **加载.trk文件**：支持TrackVis格式的神经纤维束数据文件
- **3D可视化**：使用VTK实现高质量的3D纤维束渲染
- **交互式操作**：提供缩放、旋转、平移等基础交互功能
- **纤维束分析**：提供纤维束的基本统计信息和可视化参数调节
- **跨平台支持**：基于Qt框架，支持Windows、Linux和macOS

## 项目架构

```
DTI_demo/
├── src/                    # 主应用程序源代码
├── header/                 # 主应用程序头文件
├── static/                 # DTI纤维束处理静态库
├── lib/                    # 编译生成的静态库文件
├── build/                  # 主项目构建目录
├── build.bat              # 主项目构建脚本
└── CMakeLists.txt         # 主项目CMake配置
```

## 技术栈

- **UI框架**：Qt 5.14+
- **3D渲染**：VTK 8.2+
- **构建系统**：CMake 3.14+
- **编译器**：MSVC 2017+ (Windows)
- **编程语言**：C++11/17

## 构建说明

### 环境要求

1. **Qt 5.14+**：用于GUI界面开发
2. **VTK 8.2+**：用于3D可视化渲染
3. **CMake 3.14+**：构建系统
4. **Visual Studio 2017+**：Windows平台编译器

### 构建步骤

1. **构建静态库**：
   ```bash
   cd static
   build.bat
   ```

2. **构建主项目**：
   ```bash
   build.bat
   ```

3. **运行程序**：
   ```bash
   build/Exe/Debug/DTIFiberViewer.exe    # Debug版本
   build/Exe/Release/DTIFiberViewer.exe  # Release版本
   ```

## 项目内容

### 当前功能
- [x] 基础VTK+Qt项目框架
- [x] 静态库架构设计
- [x] 基本3D渲染功能（测试球体）

### 计划功能
- [ ] .trk文件格式解析
- [ ] 纤维束数据结构定义
- [ ] 纤维束3D渲染算法
- [ ] 交互式可视化控制
- [ ] 纤维束颜色映射
- [ ] 纤维束过滤和选择
- [ ] 统计信息显示
- [ ] 导出功能

### 高级功能
- [ ] 多种文件格式支持 (.tck, .vtk等)
- [ ] ROI (感兴趣区域) 分析
- [ ] 纤维束聚类算法
- [ ] 与脑图谱的配准
- [ ] 批处理模式
- [ ] 插件架构支持

## 开发计划

### 第一阶段：基础框架 ✅
- 项目结构搭建
- VTK+Qt集成
- 静态库架构

### 第二阶段：文件解析
- .trk文件格式研究
- TrackVis数据结构实现
- 文件读取模块开发

### 第三阶段：可视化实现
- 纤维束渲染算法
- 颜色映射系统
- 交互控制实现

### 第四阶段：功能完善
- UI界面优化
- 性能优化
- 错误处理完善

## 贡献指南

1. 遵循现有的代码风格和命名规范
2. 每个功能模块应包含相应的文档说明
3. 提交代码前请确保能够正确编译和运行
4. 重要功能变更请先创建issue讨论

## 许可证

待定

## 联系信息

项目维护者：[待填写]
项目主页：[待填写]

---

*最后更新：2025年9月26日*